<!DOCTYPE html>
<div xmlns:th="http://www.thymeleaf.org" layout:decorator="theme/admin-layout">

    <div layout:fragment = "main_content">

        <div class="content-wrapper">
            <!-- Content Header (Page header) -->
            <section class="content-header">
                <h1>
                    Inventory Report
                    <small>Report</small>
                </h1>
            </section>

            <!-- Main content -->
            <section class="content">

                <!-- Default box -->
                <div class="box">
                    <div class="box-header with-border">
                        <h3 class="box-title">Inventory Status by Location.</h3>

                        <div class="box-tools pull-right">
                            <div class="btn-group">

                                <a type="button"  th:href="@{/inventory/index}" class="btn  btn-danger btn-xs">Close</a>
                            </div>
                        </div>
                    </div>

                    <div class="box-body">

                        <form  th:action="@{/inventoryitemstatus/itembylocation}" method="post" class=""> 

                            <table id="" class="table table-bordered">

                                <tr>
                                    <td></td>
                                    <td></td>
                                    <td>  

                                        <select class="form-control " name="inventoryLocations" required="true">
                                            <option value="">Select Location</option>
                                            <option th:each=" inventoryLocationlists :${locationsList}"
                                                    th:value=" ${inventoryLocationlists.id}"
                                                    th:text="${inventoryLocationlists.locationName}">
                                                Select one</option>
                                        </select> 

                                    </td>

                                    <td>

                                        <button type="submit" class="btn btn-primary btn-sm pull-right">Submit</button> 

                                    </td>
                                    <td></td>
                                    <td></td>
                                </tr>

                            </table>
                        </form>


                        <h4 class="text-center bg-green "> <span th:text="${location_name}"> </span> Inventory Status </h4>

                      
                         <table id="" class="table  table-bordered">
                            <tr th:if="${not#lists.isEmpty(list)}">           
                                <th colspan="2" > Total Quantity</th>
                                <td><span th:text="${#aggregates.sum(list.![quantity])}"> </span> </td>
                                <th colspan="2"> Total Retail Price</th>
                                <td> <span th:text="${#aggregates.sum(list.![itemTotal])}"> </span></td>
                            </tr>
                        </table>
                        <br>
                                <table id="table_search_pagination" class="table  table-bordered">
     <thead>
                            <tr th:if="${#lists.isEmpty(list)}" >           
                                <th colspan="6"  class="text-center"> Sorry no information found.</th>
                            </tr>
                            <tr>
                                <th>#</th>
                                <th>Item Code </th>
                                <th>Item/Product Name </th>

                                <th>Quantity </th>
                               
                                <th>Retail Price</th>
                                <th>Total</th>

                            </tr>
                            
                                </thead>
                            <tbody>
                            <tr th:if="${not#lists.isEmpty(list)}" th:each="lists,status:${list}">
                                <td th:text="${status.count}"></td>
                                <td th:text="${lists.itemCode}"></td>
                                <td th:text="${lists.name}"></td>
                                <td th:text="${lists.quantity}"> </td>

                               

                                <td th:text="${lists.retailPrice}"> </td>
                                <td th:text="${lists.itemTotal}"> </td>
                            </tr>

                      </tbody></table>
                        
                        </div>



                    <!-- /.box-body -->
                    <div class="box-footer">
                        <div class="box-tools pull-right">
                            <div class="btn-group">

                            </div>
                        </div>
                    </div>
                    <!-- /.box-footer-->
                </div>
                <!-- /.box -->

            </section>
            <!-- /.content -->
        </div> 



    </div>

</div>